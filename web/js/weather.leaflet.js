function airportMarker(a,b){var c=[];0==a.properties.metarStatus&&c.push('<span class="red">METAR NOT PROCESSED</span>'),c.push(a.properties.colorizedMetar),c.push(""),0==a.properties.tafStatus&&c.push('<span class="red">TAF NOT PROCESSED</span>'),c.push(a.properties.colorizedTaf),b.bindPopup(c.join("</br>")),b.setIcon(icons[a.properties.metarStatus+"_"+a.properties.tafStatus])}var icons={},iconAdd="",iconSizes=[16,16];2==iconType&&(iconAdd="-alt",iconSizes=[18,18]);for(var i=0;i<4;i++)for(var a=0;a<4;a++)icons[i+"_"+a]=new L.Icon({iconUrl:"../img/"+i+iconAdd+".png",iconSize:iconSizes,shadowUrl:"../img/"+a+iconAdd+".png",shadowSize:[30,30]});var map=L.map("map").setView([46.34,10.32],5),baseMap=L.tileLayer("https://{s}.google.com/vt/lyrs=m@129&hl=en&x={x}&y={y}&z={z}&s=Galileo",{attribution:"Created & Maintained by Deniss Kozickis @ EY",maxZoom:18,subdomains:["mt0","mt1","mt2","mt3"]}).addTo(map),alternateMap=L.tileLayer("https://{s}.google.com/vt/lyrs=y@129&hl=en&x={x}&y={y}&z={z}&s=Galileo",{attribution:"Created & Maintained by Deniss Kozickis @ EY",maxZoom:18,subdomains:["mt0","mt1","mt2","mt3"]}),baseMaps={"Google Street":baseMap,"Google Hybrid":alternateMap},airportsDest=new L.GeoJSON.AJAX(destinationWeather,{onEachFeature:airportMarker});airportsDest.addTo(map);var airportsAltn=new L.GeoJSON.AJAX(alternateWeather,{onEachFeature:airportMarker}),airports={Destinations:airportsDest,Alternates:airportsAltn};L.control.layers(baseMaps,airports).addTo(map);var outdatedWeatherBox=L.control({position:"bottomright"});outdatedWeatherBox.onAdd=function(){var a=L.DomUtil.create("div","info legend metar-info");return a.innerHTML="<strong>Outdated METARs</strong></br>",a},outdatedWeatherBox.addTo(map),$(function(){function a(){$.getJSON(oldMetar,function(a){var b=[];b.push("<strong>Outdated METARs</strong></br>"),$.each(a,function(a,c){b.push(c)}),$("div.metar-info").html(b.join(" "))})}function b(){airportsDest.refresh(),airportsAltn.refresh()}setInterval(a,6e4),setInterval(b,12e4),setTimeout(a,1e4)});